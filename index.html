<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุงูุจุฑูุงูุฌ ุงููุญุงุณุจู โ ูุณุฎุฉ ูุงููุฉ</title>

  <!-- Google Font -->
  <link id="gfont" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Tajawal','system-ui','Segoe UI','Arial'] },
          colors: { primary: { DEFAULT: '#0ea5e9' } }
        }
      }
    };
  </script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <!-- SheetJS for Excel 2021 export -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-[#0f172a] dark:text-slate-100 font-sans">

  <!-- Header -->
  <header class="appbar">
    <div class="wrap">
      <div class="brand">
        <img id="companyLogo" src="images/logo.png" alt="logo">
        <div>
          <div id="companyName" class="name">ุงูุจุฑูุงูุฌ ุงููุญุงุณุจู</div>
          <div class="sub">ูุงุฌูุฉ ุงุญุชุฑุงููุฉ โข ุชุฎุฒูู ูุญูู</div>
        </div>
      </div>

      <nav class="topnav">
        <div class="tabs">
          <button class="tab tab-active" data-page="dashboard">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
          <button class="tab" data-page="sales">ุงููุจูุนุงุช</button>
          <button class="tab" data-page="expenses">ุงููุตุฑููุงุช</button>
          <button class="tab" data-page="employees">ุงูููุธููู</button>
          <button class="tab" data-page="suppliers">ุงูููุฑุฏูู</button>
          <button class="tab" data-page="settings">ุงูุฅุนุฏุงุฏุงุช</button>
        </div>
      </nav>

      <div class="actions">
        <button id="themeToggle" class="iconbtn">๐/๐</button>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto p-4 space-y-6">

    <!-- Dashboard -->
    <section id="page-dashboard" class="page">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <div class="card"><div class="muted">ุฅุฌูุงูู ุงููุจูุนุงุช</div><div id="kpiSales" class="text-2xl font-extrabold mt-1">0 ุฑ.ุณ</div></div>
        <div class="card"><div class="muted">ุฅุฌูุงูู ุงููุตุฑููุงุช</div><div id="kpiExpenses" class="text-2xl font-extrabold mt-1">0 ุฑ.ุณ</div></div>
        <div class="card"><div class="muted">ุงูุฑุจุญ ุงูุชูุฑูุจู</div><div id="kpiProfit" class="text-2xl font-extrabold mt-1 text-emerald-500">0 ุฑ.ุณ</div></div>
      </div>

      <div class="card mt-2">
        <div class="flex flex-wrap items-center gap-3">
          <label>ูู <input id="homeFrom" type="date" class="input"></label>
          <label>ุฅูู <input id="homeTo" type="date" class="input"></label>
          <button id="homeFilter" class="btn-primary">ููุชุฑุฉ</button>
        </div>
        <canvas id="mainChart" class="mt-4"></canvas>
      </div>
    </section>

    <!-- Sales -->
    <section id="page-sales" class="page hidden space-y-4">
      <details class="accordion" open>
        <summary class="accordion-title">โ ุฅุถุงูุฉ ูุจูุนุงุช ููููุฉ</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap gap-3">
            <label>ุงูุชุงุฑูุฎ <input id="saleDate" type="date" class="input"></label>
            <label>ุงูุฅุฌูุงูู <input id="saleTotal" type="number" class="input"></label>
            <label>ูุฏู <input id="saleMada" type="number" class="input"></label>
            <label>ุชูุงุฑุง <input id="saleTamara" type="number" class="input"></label>
            <label>ุชุงุจู <input id="saleTabby" type="number" class="input"></label>
            <label>ุงูุตุงูู <input id="saleNet" type="text" class="input" readonly></label>
            <button id="btnAddSale" class="btn-primary">ุฅุถุงูุฉ</button>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ ุณุฌู ุงููุจูุนุงุช ุงูููููุฉ</summary>
        <div class="accordion-body space-y-3">
          <div class="flex flex-wrap items-center gap-3">
            <label>ูู <input id="saleFrom" type="date" class="input"></label>
            <label>ุฅูู <input id="saleTo" type="date" class="input"></label>
            <button id="saleFilterBtn" class="btn-primary">ููุชุฑุฉ</button>
            <button id="exportSales" class="btn-secondary">ุชุตุฏูุฑ Excel 2021</button>
            <button id="printSales" class="btn-secondary">๐จ๏ธ ุทุจุงุนุฉ</button>
          </div>
          <div class="overflow-x-auto"><table id="tblSales" class="table"></table></div>
        </div>
      </details>
    </section>

    <!-- Expenses -->
    <section id="page-expenses" class="page hidden space-y-4">
      <details class="accordion" open>
        <summary class="accordion-title">โ ุฅุฏุฎุงู ูุตุฑูู ุฌุฏูุฏ</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap gap-3">
            <label>ุงูุชุงุฑูุฎ <input id="expDate" type="date" class="input"></label>
            <label>ุงููุฑุน <select id="expBranch" class="input"></select></label>
            <label>ุงููุฆุฉ <select id="expCat" class="input"></select></label>
            <label>ุทุฑููุฉ ุงูุฏูุน <select id="expMethod" class="input"><option>ููุฏู</option><option>ุชุญููู ุจููู</option></select></label>
            <label>ุงููุจูุบ <input id="expAmount" type="number" class="input"></label>
            <label id="empSelectWrap" style="display:none">ุงูููุธู <select id="expEmployee" class="input"></select></label>
            <button id="btnAddExpense" class="btn-primary">ุฅุถุงูุฉ</button>
          </div>
          <p class="text-sm text-slate-500 mt-2">ุนูุฏ ุงุฎุชูุงุฑ <b>ูุตุฑูู ููุธู</b> ุฃู <b>ุฑุงุชุจ</b> ุณููุทูุจ ุงุฎุชูุงุฑ ุงูููุธู ูููุฑุจุท ุงูููุฏ ุจู.</p>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ ุณุฌู ุงููุตุฑููุงุช</summary>
        <div class="accordion-body space-y-3">
          <div class="flex flex-wrap items-center gap-3">
            <label>ูู <input id="expFrom" type="date" class="input"></label>
            <label>ุฅูู <input id="expTo" type="date" class="input"></label>
            <button id="expFilterBtn" class="btn-primary">ููุชุฑุฉ</button>
            <button id="exportExpenses" class="btn-secondary">ุชุตุฏูุฑ Excel 2021</button>
            <button id="printExpenses" class="btn-secondary">๐จ๏ธ ุทุจุงุนุฉ</button>
          </div>
          <div class="overflow-x-auto"><table id="tblExpenses" class="table"></table></div>
        </div>
      </details>
    </section>

    <!-- Employees -->
    <section id="page-employees" class="page hidden space-y-4">
      <details class="accordion" open>
        <summary class="accordion-title">โ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap gap-3">
            <label>ุงูุงุณู <input id="empName" type="text" class="input"></label>
            <label>ุงูุฌูุงู <input id="empPhone" type="text" class="input"></label>
            <label>ุงููุณูู <input id="empTitle" type="text" class="input"></label>
            <label>ุงูุฑุงุชุจ ุงูุฃุณุงุณู <input id="empSalary" type="number" class="input"></label>
            <label>ุงููุฑุน <input id="empBranch" type="text" class="input"></label>
            <label>ุชุงุฑูุฎ ุงูุชุนููู <input id="empHire" type="date" class="input"></label>
            <button id="btnAddEmp" class="btn-primary">ุฅุถุงูุฉ</button>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ณ ุงูุฑูุงุชุจ</summary>
        <div class="accordion-body space-y-3">
          <div class="flex flex-wrap items-center gap-3">
            <label>ูู <input id="empFrom" type="date" class="input"></label>
            <label>ุฅูู <input id="empTo" type="date" class="input"></label>
            <button id="empFilterBtn" class="btn-primary">ุชุทุจูู</button>
            <button id="exportEmployees" class="btn-secondary">ุชุตุฏูุฑ Excel 2021</button>
            <button id="printEmployees" class="btn-secondary">๐จ๏ธ ุทุจุงุนุฉ ูุดู</button>
          </div>
          <div class="overflow-x-auto"><table id="tblEmployees" class="table"></table></div>
        </div>
      </details>
    </section>

    <!-- Suppliers -->
    <section id="page-suppliers" class="page hidden space-y-4">
      <details class="accordion" open>
        <summary class="accordion-title">โ ุฅุถุงูุฉ ููุฑุฏ</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap gap-3">
            <label>ุงูุงุณู <input id="supName" type="text" class="input"></label>
            <label>ุงูุฌูุงู <input id="supPhone" type="text" class="input"></label>
            <button id="btnAddSupplier" class="btn-primary">ุฅุถุงูุฉ</button>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ ุชุญููู ุฃุฑุตุฏุฉ ุงูููุฑุฏูู</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap items-center gap-3">
            <label>ูู <input id="supFrom" type="date" class="input"></label>
            <label>ุฅูู <input id="supTo" type="date" class="input"></label>
            <button id="supFilterBtn" class="btn-primary">ุชุทุจูู</button>
            <button id="exportSup" class="btn-secondary">ุชุตุฏูุฑ Excel 2021</button>
            <button id="printSup" class="btn-secondary">๐จ๏ธ ุทุจุงุนุฉ</button>
          </div>
          <div id="supplierSummary" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"></div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ ุจูุงู ุญุฑูุงุช ุงูููุฑุฏูู</summary>
        <div class="accordion-body">
          <div class="overflow-x-auto"><table id="tblSupplierTx" class="table"></table></div>
        </div>
      </details>
    </section>

    <!-- Settings -->
    <section id="page-settings" class="page hidden space-y-4">
      <details class="accordion" open>
        <summary class="accordion-title">๐ข ุจูุงูุงุช ุงูุดุฑูุฉ</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap gap-3">
            <label>ุงุณู ุงูุดุฑูุฉ <input id="companyNameInput" type="text" class="input" placeholder="ุงุณู ุงูุดุฑูุฉ"></label>
            <label>ุงูุดุนุงุฑ <input id="logoInput" type="file" class="input" accept="image/*"></label>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ฌ ุงููุฑูุน</summary>
        <div class="accordion-body space-y-3">
          <div class="flex flex-wrap gap-3">
            <input id="branchName" class="input" placeholder="ุงุณู ุงููุฑุน" />
            <button id="btnAddBranch" class="btn-primary">ุฅุถุงูุฉ ูุฑุน</button>
          </div>
          <div class="overflow-x-auto"><table id="tblBranches" class="table"></table></div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ท๏ธ ูุฆุงุช ุงููุตุฑูู</summary>
        <div class="accordion-body space-y-3">
          <div class="flex flex-wrap gap-3">
            <input id="catName" class="input" placeholder="ุงุณู ุงููุฆุฉ (ููุฑุจุงุก...)" />
            <button id="btnAddCat" class="btn-primary">ุฅุถุงูุฉ ูุฆุฉ</button>
          </div>
          <div class="overflow-x-auto"><table id="tblCats" class="table"></table></div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐ฐ๏ธ ุงูุฎุทูุท</summary>
        <div class="accordion-body">
          <div class="flex flex-wrap items-center gap-3">
            <select id="fontSelect" class="input">
              <option value="">ุงูุงูุชุฑุงุถู (Tajawal)</option>
              <option>Cairo</option><option>Tajawal</option><option>Almarai</option>
              <option>Amiri</option><option>Noto Kufi Arabic</option><option>IBM Plex Sans Arabic</option>
              <option>Lateef</option><option>Changa</option><option>El Messiri</option><option>Harmattan</option>
            </select>
            <button id="applyFont" class="btn-secondary">ุงุนุชูุงุฏ ุงูุฎุท</button>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">๐๏ธ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</summary>
        <div class="accordion-body flex flex-wrap items-center gap-3">
          <button id="btnExportBackup" class="btn-primary">ุชุตุฏูุฑ JSON</button>
          <label for="btnImportBackup" class="btn-secondary cursor-pointer">ุงุณุชูุฑุงุฏ JSON</label>
          <input type="file" id="btnImportBackup" accept="application/json" class="hidden">
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">โฌ๏ธ ุฑุจุท ูุฑูุน ุฅูู GitHub</summary>
        <div class="accordion-body space-y-3">
          <div class="flex flex-wrap gap-3">
            <label>ุงููุณุชุฎุฏู/ุงูููุธูุฉ <input id="ghOwner" class="input" placeholder="owner"></label>
            <label>ุงููุณุชูุฏุน <input id="ghRepo" class="input" placeholder="repo"></label>
            <label>ุงููุฑุน <input id="ghBranch" class="input" value="main" placeholder="main"></label>
            <label>ุงููุฌูุฏ ุฏุงุฎู ุงููุณุชูุฏุน <input id="ghPath" class="input" placeholder="backups"></label>
            <label class="flex items-center gap-2"><input id="ghRemember" type="checkbox"> ุญูุธ ุงูุฑูุฒ ูุญูููุง</label>
            <label class="flex-1">ุฑูุฒ ุงููุตูู ุงูุดุฎุตู (PAT) <input id="ghToken" class="input" type="password" placeholder="ghp_..."></label>
          </div>
          <div class="flex flex-wrap gap-3 items-center">
            <button id="btnGhSave" class="btn-secondary">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
            <button id="btnGhTest" class="btn-secondary">ุงุฎุชุจุงุฑ ุงูุงุชุตุงู</button>
            <button id="btnGhBackup" class="btn-primary">ุฑูุน ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุงูุขู</button>
            <label for="ghFile" class="btn-secondary cursor-pointer">ุงุฎุชูุงุฑ ููู ููุฑูุน</label>
            <input type="file" id="ghFile" class="hidden">
            <button id="btnGhUploadFile" class="btn-secondary">ุฑูุน ุงูููู ุงููุฎุชุงุฑ</button>
          </div>
          <div id="ghStatus" class="muted"></div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-title">โน๏ธ ุญูู</summary>
        <div class="accordion-body">ุชูุช ุงูุจุฑูุฌุฉ ุจูุงุณุทุฉ ุงูุฃุณุชุงุฐ ุฑุงูู ุฅุณูุงุนูู โ ๐ 0562000307</div>
      </details>

    </section>
  </main>

  <script src="js/app.js"></script>
</body>
</html>
